<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Documentaiton for</title>
    <link href='stylesheet.css' rel='stylesheet' />
  </head>
  <body>
    <figure id='relations'>
      <h2>Requires</h2>
      <ul>
        <li>Slick.Parser</li>
      </ul>
      <h2>Provides</h2>
      <ul>
        <li>Slick.Finder</li>
      </ul>
    </figure>
    <header>
      <p>The new, superfast css selector engine.</p>
      <dl>
      </dl>
    </header>
    <figure>
      <ol>
        <li>11</li>
        <li>12</li>
        <li>13</li>
      </ol>
      <code><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>&#x000A;&#x000A;<span class="kd">var</span> <span class="nx">local</span> <span class="o">=</span> <span class="p">{};</span></code>
    </figure>
    <section>
      <p>Feature / Bug detection</p>
    </section>
    <figure>
      <ol>
        <li>17</li>
        <li>18</li>
        <li>19</li>
        <li>20</li>
        <li>21</li>
        <li>22</li>
        <li>23</li>
        <li>24</li>
        <li>25</li>
        <li>26</li>
      </ol>
      <code><span class="nx">local</span><span class="p">.</span><span class="nx">isNativeCode</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">fn</span><span class="p">){</span>&#x000A;	<span class="k">return</span> <span class="p">(</span><span class="sr">/\{\s*\[native code\]\s*\}/</span><span class="p">).</span><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="nx">fn</span><span class="p">);</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">isXML</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nb">document</span><span class="p">){</span>&#x000A;	<span class="k">return</span> <span class="p">(</span><span class="o">!!</span><span class="nb">document</span><span class="p">.</span><span class="nx">xmlVersion</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="o">!!</span><span class="nb">document</span><span class="p">.</span><span class="nx">xml</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nb">document</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;[object XMLDocument]&#39;</span><span class="p">)</span> <span class="o">||</span>&#x000A;	<span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">9</span> <span class="o">&amp;&amp;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">!==</span> <span class="s1">&#39;HTML&#39;</span><span class="p">);</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">setDocument</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nb">document</span><span class="p">){</span></code>
    </figure>
    <section>
      <p>convert elements / window arguments to document. if document cannot be extrapolated, the function returns.</p>
    </section>
    <figure>
      <ol>
        <li>30</li>
        <li>31</li>
        <li>32</li>
        <li>33</li>
      </ol>
      <code><span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">9</span><span class="p">);</span> <span class="c1">// document</span>&#x000A;	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">)</span> <span class="nb">document</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">;</span> <span class="c1">// node</span>&#x000A;	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">navigator</span><span class="p">)</span> <span class="nb">document</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nb">document</span><span class="p">;</span> <span class="c1">// window</span>&#x000A;	<span class="k">else</span> <span class="k">return</span><span class="p">;</span></code>
    </figure>
    <section>
      <p>check if it&rsquo;s the old document</p>
    </section>
    <figure>
      <ol>
        <li>37</li>
        <li>38</li>
        <li>39</li>
      </ol>
      <code><span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nb">document</span> <span class="o">===</span> <span class="nb">document</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>&#x000A;	<span class="k">this</span><span class="p">.</span><span class="nb">document</span> <span class="o">=</span> <span class="nb">document</span><span class="p">;</span>&#x000A;	<span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">root</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span></code>
    </figure>
    <section>
      <p>document sort</p>
    </section>
    <figure>
      <ol>
        <li>43</li>
        <li>44</li>
        <li>45</li>
        <li>46</li>
        <li>47</li>
        <li>48</li>
        <li>49</li>
        <li>50</li>
        <li>51</li>
        <li>52</li>
        <li>53</li>
        <li>54</li>
        <li>55</li>
        <li>56</li>
        <li>57</li>
      </ol>
      <code><span class="k">this</span><span class="p">.</span><span class="nx">brokenStarGEBTN</span>&#x000A;	<span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">starSelectsClosedQSA</span>&#x000A;	<span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">idGetsName</span>&#x000A;	<span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">brokenMixedCaseQSA</span>&#x000A;	<span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">brokenGEBCN</span>&#x000A;	<span class="o">=</span> <span class="kc">false</span><span class="p">;</span>&#x000A;&#x000A;	<span class="kd">var</span> <span class="nx">starSelectsClosed</span><span class="p">,</span> <span class="nx">starSelectsComments</span><span class="p">,</span>&#x000A;		<span class="nx">brokenSecondClassNameGEBCN</span><span class="p">,</span> <span class="nx">cachedGetElementsByClassName</span><span class="p">;</span>&#x000A;&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isXMLDocument</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">isXML</span><span class="p">(</span><span class="nb">document</span><span class="p">))){</span>&#x000A;&#x000A;		<span class="kd">var</span> <span class="nx">testNode</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>&#x000A;		<span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">testNode</span><span class="p">);</span>&#x000A;		<span class="kd">var</span> <span class="nx">selected</span><span class="p">,</span> <span class="nx">id</span><span class="p">;</span></code>
    </figure>
    <section>
      <p>IE returns comment nodes for getElementsByTagName(&lsquo;*&rsquo;) for some documents</p>
    </section>
    <figure>
      <ol>
        <li>60</li>
        <li>61</li>
      </ol>
      <code><span class="nx">testNode</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createComment</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">));</span>&#x000A;		<span class="nx">starSelectsComments</span> <span class="o">=</span> <span class="p">(</span><span class="nx">testNode</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">);</span></code>
    </figure>
    <section>
      <p>IE returns closed nodes (EG:&ldquo;</foo>&rdquo;) for getElementsByTagName(&lsquo;*&rsquo;) for some documents</p>
    </section>
    <figure>
      <ol>
        <li>64</li>
        <li>65</li>
        <li>66</li>
        <li>67</li>
        <li>68</li>
        <li>69</li>
        <li>70</li>
      </ol>
      <code><span class="k">try</span> <span class="p">{</span>&#x000A;			<span class="nx">testNode</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;foo&lt;/foo&gt;&#39;</span><span class="p">;</span>&#x000A;			<span class="nx">selected</span> <span class="o">=</span> <span class="nx">testNode</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">);</span>&#x000A;			<span class="nx">starSelectsClosed</span> <span class="o">=</span> <span class="p">(</span><span class="nx">selected</span> <span class="o">&amp;&amp;</span> <span class="nx">selected</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="nx">selected</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;/&#39;</span><span class="p">);</span>&#x000A;		<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){};</span>&#x000A;&#x000A;		<span class="k">this</span><span class="p">.</span><span class="nx">brokenStarGEBTN</span> <span class="o">=</span> <span class="nx">starSelectsComments</span> <span class="o">||</span> <span class="nx">starSelectsClosed</span><span class="p">;</span></code>
    </figure>
    <section>
      <p>IE 8 returns closed nodes (EG:&ldquo;</foo>&rdquo;) for querySelectorAll(&lsquo;*&rsquo;) for some documents</p>
    </section>
    <figure>
      <ol>
        <li>73</li>
        <li>74</li>
        <li>75</li>
        <li>76</li>
        <li>77</li>
      </ol>
      <code><span class="k">if</span> <span class="p">(</span><span class="nx">testNode</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">)</span> <span class="k">try</span> <span class="p">{</span>&#x000A;			<span class="nx">testNode</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;foo&lt;/foo&gt;&#39;</span><span class="p">;</span>&#x000A;			<span class="nx">selected</span> <span class="o">=</span> <span class="nx">testNode</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">);</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">starSelectsClosedQSA</span> <span class="o">=</span> <span class="p">(</span><span class="nx">selected</span> <span class="o">&amp;&amp;</span> <span class="nx">selected</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="nx">selected</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;/&#39;</span><span class="p">);</span>&#x000A;		<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){};</span></code>
    </figure>
    <section>
      <p>IE returns elements with the name instead of just id for getElementById for some documents</p>
    </section>
    <figure>
      <ol>
        <li>80</li>
        <li>81</li>
        <li>82</li>
        <li>83</li>
        <li>84</li>
      </ol>
      <code><span class="k">try</span> <span class="p">{</span>&#x000A;			<span class="nx">id</span> <span class="o">=</span> <span class="s1">&#39;slick_id_gets_name&#39;</span><span class="p">;</span>&#x000A;			<span class="nx">testNode</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;a name=&#39;</span><span class="o">+</span><span class="nx">id</span><span class="o">+</span><span class="s1">&#39;&gt;&lt;/a&gt;&lt;b id=&#39;</span><span class="o">+</span><span class="nx">id</span><span class="o">+</span><span class="s1">&#39;&gt;&lt;/b&gt;&#39;</span><span class="p">);</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">idGetsName</span> <span class="o">=</span> <span class="nx">testNode</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="o">===</span> <span class="nx">testNode</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span>&#x000A;		<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){};</span></code>
    </figure>
    <section>
      <p>Safari 3.2 QSA doesnt work with mixedcase on quirksmode</p>
    </section>
    <figure>
      <ol>
        <li>87</li>
        <li>88</li>
        <li>89</li>
        <li>90</li>
        <li>91</li>
        <li>92</li>
        <li>93</li>
        <li>94</li>
        <li>95</li>
        <li>96</li>
        <li>97</li>
      </ol>
      <code><span class="k">try</span> <span class="p">{</span>&#x000A;			<span class="nx">testNode</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;&lt;a class=&quot;MiXedCaSe&quot;&gt;&lt;/a&gt;&#39;</span><span class="p">;</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">brokenMixedCaseQSA</span> <span class="o">=</span> <span class="o">!</span><span class="nx">testNode</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;.MiXedCaSe&#39;</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>&#x000A;		<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){};</span>&#x000A;&#x000A;		<span class="k">try</span> <span class="p">{</span>&#x000A;			<span class="nx">testNode</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;&lt;a class=&quot;f&quot;&gt;&lt;/a&gt;&lt;a class=&quot;b&quot;&gt;&lt;/a&gt;&#39;</span><span class="p">;</span>&#x000A;			<span class="nx">testNode</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>&#x000A;			<span class="nx">testNode</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">;</span>&#x000A;			<span class="nx">cachedGetElementsByClassName</span> <span class="o">=</span> <span class="p">(</span><span class="nx">testNode</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">).</span><span class="nx">length</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">);</span>&#x000A;		<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){};</span></code>
    </figure>
    <section>
      <p>Opera 9.6 GEBCN doesnt detects the class if its not the first one</p>
    </section>
    <figure>
      <ol>
        <li>100</li>
        <li>101</li>
        <li>102</li>
        <li>103</li>
        <li>104</li>
        <li>105</li>
        <li>106</li>
        <li>107</li>
        <li>108</li>
        <li>109</li>
        <li>110</li>
      </ol>
      <code><span class="k">try</span> <span class="p">{</span>&#x000A;			<span class="nx">testNode</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;&lt;a class=&quot;a&quot;&gt;&lt;/a&gt;&lt;a class=&quot;f b a&quot;&gt;&lt;/a&gt;&#39;</span><span class="p">;</span>&#x000A;			<span class="nx">brokenSecondClassNameGEBCN</span> <span class="o">=</span> <span class="p">(</span><span class="nx">testNode</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">).</span><span class="nx">length</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">);</span>&#x000A;		<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){};</span>&#x000A;&#x000A;		<span class="k">this</span><span class="p">.</span><span class="nx">brokenGEBCN</span> <span class="o">=</span> <span class="nx">cachedGetElementsByClassName</span> <span class="o">||</span> <span class="nx">brokenSecondClassNameGEBCN</span><span class="p">;</span>&#x000A;&#x000A;		<span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">testNode</span><span class="p">);</span>&#x000A;		<span class="nx">testNode</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>&#x000A;&#x000A;	<span class="p">}</span></code>
    </figure>
    <section>
      <p>hasAttribute</p>
    </section>
    <figure>
      <ol>
        <li>114</li>
        <li>115</li>
        <li>116</li>
        <li>117</li>
        <li>118</li>
        <li>119</li>
      </ol>
      <code><span class="k">this</span><span class="p">.</span><span class="nx">hasAttribute</span> <span class="o">=</span> <span class="p">(</span><span class="nx">root</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">isNativeCode</span><span class="p">(</span><span class="nx">root</span><span class="p">.</span><span class="nx">hasAttribute</span><span class="p">))</span> <span class="o">?</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">attribute</span><span class="p">)</span> <span class="p">{</span>&#x000A;		<span class="k">return</span> <span class="nx">node</span><span class="p">.</span><span class="nx">hasAttribute</span><span class="p">(</span><span class="nx">attribute</span><span class="p">);</span>&#x000A;	<span class="p">}</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">attribute</span><span class="p">)</span> <span class="p">{</span>&#x000A;		<span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="nx">attribute</span><span class="p">);</span>&#x000A;		<span class="k">return</span> <span class="o">!!</span><span class="p">(</span><span class="nx">node</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">specified</span> <span class="o">||</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nodeValue</span><span class="p">));</span>&#x000A;	<span class="p">};</span></code>
    </figure>
    <section>
      <p>contains
      FIXME: Add specs: local.contains should be different for xml and html documents?</p>
    </section>
    <figure>
      <ol>
        <li>123</li>
        <li>124</li>
        <li>125</li>
        <li>126</li>
        <li>127</li>
        <li>128</li>
        <li>129</li>
        <li>130</li>
        <li>131</li>
        <li>132</li>
      </ol>
      <code><span class="k">this</span><span class="p">.</span><span class="nx">contains</span> <span class="o">=</span> <span class="p">(</span><span class="nx">root</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">isNativeCode</span><span class="p">(</span><span class="nx">root</span><span class="p">.</span><span class="nx">contains</span><span class="p">))</span> <span class="o">?</span> <span class="kd">function</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="nx">context</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;	<span class="p">}</span> <span class="o">:</span> <span class="p">(</span><span class="nx">root</span> <span class="o">&amp;&amp;</span> <span class="nx">root</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="p">)</span> <span class="o">?</span> <span class="kd">function</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="nx">context</span> <span class="o">===</span> <span class="nx">node</span> <span class="o">||</span> <span class="o">!!</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">16</span><span class="p">);</span>&#x000A;	<span class="p">}</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="k">do</span> <span class="p">{</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">node</span> <span class="o">===</span> <span class="nx">context</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;		<span class="p">}</span> <span class="k">while</span> <span class="p">((</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">));</span>&#x000A;		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;	<span class="p">};</span></code>
    </figure>
    <section>
      <p>document order sorting
      credits to Sizzle (http://sizzlejs.com/)</p>
    </section>
    <figure>
      <ol>
        <li>137</li>
        <li>138</li>
        <li>139</li>
        <li>140</li>
        <li>141</li>
        <li>142</li>
        <li>143</li>
        <li>144</li>
        <li>145</li>
        <li>146</li>
        <li>147</li>
        <li>148</li>
        <li>149</li>
        <li>150</li>
        <li>151</li>
        <li>152</li>
        <li>153</li>
        <li>154</li>
        <li>155</li>
      </ol>
      <code><span class="k">this</span><span class="p">.</span><span class="nx">documentSorter</span> <span class="o">=</span> <span class="p">(</span><span class="nx">root</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="p">)</span> <span class="o">?</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">){</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">compareDocumentPosition</span> <span class="o">||</span> <span class="o">!</span><span class="nx">b</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>&#x000A;		<span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">4</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="nx">a</span> <span class="o">===</span> <span class="nx">b</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>&#x000A;	<span class="p">}</span> <span class="o">:</span> <span class="p">(</span><span class="s1">&#39;sourceIndex&#39;</span> <span class="k">in</span> <span class="nx">root</span><span class="p">)</span> <span class="o">?</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">){</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">sourceIndex</span> <span class="o">||</span> <span class="o">!</span><span class="nx">b</span><span class="p">.</span><span class="nx">sourceIndex</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>&#x000A;		<span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">sourceIndex</span> <span class="o">-</span> <span class="nx">b</span><span class="p">.</span><span class="nx">sourceIndex</span><span class="p">;</span>&#x000A;	<span class="p">}</span> <span class="o">:</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createRange</span><span class="p">)</span> <span class="o">?</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">){</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">ownerDocument</span> <span class="o">||</span> <span class="o">!</span><span class="nx">b</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>&#x000A;		<span class="kd">var</span> <span class="nx">aRange</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">createRange</span><span class="p">(),</span> <span class="nx">bRange</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">createRange</span><span class="p">();</span>&#x000A;		<span class="nx">aRange</span><span class="p">.</span><span class="nx">setStart</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>&#x000A;		<span class="nx">aRange</span><span class="p">.</span><span class="nx">setEnd</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>&#x000A;		<span class="nx">bRange</span><span class="p">.</span><span class="nx">setStart</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>&#x000A;		<span class="nx">bRange</span><span class="p">.</span><span class="nx">setEnd</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>&#x000A;		<span class="k">return</span> <span class="nx">aRange</span><span class="p">.</span><span class="nx">compareBoundaryPoints</span><span class="p">(</span><span class="nx">Range</span><span class="p">.</span><span class="nx">START_TO_END</span><span class="p">,</span> <span class="nx">bRange</span><span class="p">);</span>&#x000A;	<span class="p">}</span> <span class="o">:</span> <span class="kc">null</span> <span class="p">;</span>&#x000A;&#x000A;	<span class="k">this</span><span class="p">.</span><span class="nx">getUID</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isXMLDocument</span><span class="p">)</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">getUIDXML</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">getUIDHTML</span><span class="p">;</span>&#x000A;&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p>Main Method</p>
    </section>
    <figure>
      <ol>
        <li>159</li>
        <li>160</li>
        <li>161</li>
      </ol>
      <code><span class="nx">local</span><span class="p">.</span><span class="nx">search</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">expression</span><span class="p">,</span> <span class="nx">append</span><span class="p">,</span> <span class="nx">first</span><span class="p">){</span>&#x000A;&#x000A;	<span class="kd">var</span> <span class="nx">found</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">found</span> <span class="o">=</span> <span class="p">(</span><span class="nx">first</span><span class="p">)</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="p">(</span><span class="nx">append</span> <span class="o">||</span> <span class="p">[]);</span></code>
    </figure>
    <section>
      <p>no need to pass a context if its the current document</p>
    </section>
    <figure>
      <ol>
        <li>165</li>
        <li>166</li>
        <li>167</li>
        <li>168</li>
      </ol>
      <code><span class="k">if</span> <span class="p">(</span><span class="nx">expression</span> <span class="o">==</span> <span class="kc">null</span><span class="p">){</span>&#x000A;		<span class="nx">expression</span> <span class="o">=</span> <span class="nx">context</span><span class="p">;</span>&#x000A;		<span class="nx">context</span> <span class="o">=</span> <span class="nb">document</span><span class="p">;</span> <span class="c1">// the current document, not local.document, cause it would be confusing</span>&#x000A;	<span class="p">}</span></code>
    </figure>
    <section>
      <p>context checks</p>
    </section>
    <figure>
      <ol>
        <li>172</li>
        <li>173</li>
        <li>174</li>
      </ol>
      <code><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">context</span><span class="p">)</span> <span class="k">return</span> <span class="nx">found</span><span class="p">;</span> <span class="c1">// No context</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">navigator</span><span class="p">)</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nb">document</span><span class="p">;</span> <span class="c1">// Convert the node from a window to a document</span>&#x000A;	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">context</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">)</span> <span class="k">return</span> <span class="nx">found</span><span class="p">;</span> <span class="c1">// Reject misc junk input</span></code>
    </figure>
    <section>
      <p>setup</p>
    </section>
    <figure>
      <ol>
        <li>178</li>
        <li>179</li>
        <li>180</li>
        <li>181</li>
        <li>182</li>
      </ol>
      <code><span class="kd">var</span> <span class="nx">parsed</span><span class="p">,</span> <span class="nx">i</span><span class="p">;</span>&#x000A;&#x000A;	<span class="kd">var</span> <span class="nx">uniques</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">uniques</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nb">document</span> <span class="o">!==</span> <span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">ownerDocument</span> <span class="o">||</span> <span class="nx">context</span><span class="p">))</span> <span class="k">this</span><span class="p">.</span><span class="nx">setDocument</span><span class="p">(</span><span class="nx">context</span><span class="p">);</span></code>
    </figure>
    <section>
      <p>should sort if there are nodes in append and if you pass multiple expressions.
      should remove duplicates if append already has items</p>
    </section>
    <figure>
      <ol>
        <li>186</li>
      </ol>
      <code><span class="kd">var</span> <span class="nx">shouldUniques</span> <span class="o">=</span> <span class="o">!!</span><span class="p">(</span><span class="nx">append</span> <span class="o">&amp;&amp;</span> <span class="nx">append</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span></code>
    </figure>
    <section>
      <p>avoid duplicating items already in the append array</p>
    </section>
    <figure>
      <ol>
        <li>189</li>
      </ol>
      <code><span class="k">if</span> <span class="p">(</span><span class="nx">shouldUniques</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">found</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">;)</span> <span class="k">this</span><span class="p">.</span><span class="nx">uniques</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">getUID</span><span class="p">(</span><span class="nx">found</span><span class="p">[</span><span class="nx">i</span><span class="p">])]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span></code>
    </figure>
    <section>
      <p>expression checks</p>
    </section>
    <figure>
      <ol>
        <li>193</li>
      </ol>
      <code><span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">expression</span> <span class="o">==</span> <span class="s1">&#39;string&#39;</span><span class="p">){</span> <span class="c1">// expression is a string</span></code>
    </figure>
    <section>
      <p>Overrides</p>
    </section>
    <figure>
      <ol>
        <li>197</li>
        <li>198</li>
        <li>199</li>
        <li>200</li>
        <li>201</li>
        <li>202</li>
        <li>203</li>
        <li>204</li>
        <li>205</li>
        <li>206</li>
        <li>207</li>
        <li>208</li>
        <li>209</li>
        <li>210</li>
        <li>211</li>
        <li>212</li>
        <li>213</li>
        <li>214</li>
        <li>215</li>
        <li>216</li>
        <li>217</li>
        <li>218</li>
      </ol>
      <code><span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">overrides</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">;){</span>&#x000A;			<span class="kd">var</span> <span class="nx">override</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">overrides</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">override</span><span class="p">.</span><span class="nx">regexp</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">expression</span><span class="p">)){</span>&#x000A;				<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">override</span><span class="p">.</span><span class="nx">method</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">expression</span><span class="p">,</span> <span class="nx">found</span><span class="p">,</span> <span class="nx">first</span><span class="p">);</span>&#x000A;				<span class="k">if</span> <span class="p">(</span><span class="nx">result</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>&#x000A;				<span class="k">if</span> <span class="p">(</span><span class="nx">result</span> <span class="o">===</span> <span class="kc">true</span><span class="p">)</span> <span class="k">return</span> <span class="nx">found</span><span class="p">;</span>&#x000A;				<span class="k">return</span> <span class="nx">result</span><span class="p">;</span>&#x000A;			<span class="p">}</span>&#x000A;		<span class="p">}</span>&#x000A;&#x000A;		<span class="nx">parsed</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">Slick</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">expression</span><span class="p">);</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">parsed</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="k">return</span> <span class="nx">found</span><span class="p">;</span>&#x000A;	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">expression</span> <span class="o">==</span> <span class="kc">null</span><span class="p">){</span> <span class="c1">// there is no expression</span>&#x000A;		<span class="k">return</span> <span class="nx">found</span><span class="p">;</span>&#x000A;	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">expression</span><span class="p">.</span><span class="nx">Slick</span><span class="p">){</span> <span class="c1">// expression is a parsed Slick object</span>&#x000A;		<span class="nx">parsed</span> <span class="o">=</span> <span class="nx">expression</span><span class="p">;</span>&#x000A;	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">documentElement</span> <span class="o">||</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">expression</span><span class="p">)){</span> <span class="c1">// expression is a node</span>&#x000A;		<span class="p">(</span><span class="nx">found</span><span class="p">)</span> <span class="o">?</span> <span class="nx">found</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">expression</span><span class="p">)</span> <span class="o">:</span> <span class="nx">found</span> <span class="o">=</span> <span class="nx">expression</span><span class="p">;</span>&#x000A;		<span class="k">return</span> <span class="nx">found</span><span class="p">;</span>&#x000A;	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">// other junk</span>&#x000A;		<span class="k">return</span> <span class="nx">found</span><span class="p">;</span>&#x000A;	<span class="p">}</span></code>
    </figure>
    <section>
      <p>cache elements for the nth selectors</p>
    </section>
    <section>
      <p>&lt;pseudo-selectors></p>
    </section>
    <figure>
      <ol>
        <li>224</li>
        <li>225</li>
        <li>226</li>
        <li>227</li>
      </ol>
      <code><span class="k">this</span><span class="p">.</span><span class="nx">posNTH</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;	<span class="k">this</span><span class="p">.</span><span class="nx">posNTHLast</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;	<span class="k">this</span><span class="p">.</span><span class="nx">posNTHType</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;	<span class="k">this</span><span class="p">.</span><span class="nx">posNTHTypeLast</span> <span class="o">=</span> <span class="p">{};</span></code>
    </figure>
    <section>
      <p>&lt;/nth-pseudo-selectors></p>
    </section>
    <section>
      <p>if append is null and there is only a single selector with one expression use pushArray, else use pushUID</p>
    </section>
    <figure>
      <ol>
        <li>232</li>
        <li>233</li>
        <li>234</li>
      </ol>
      <code><span class="k">this</span><span class="p">.</span><span class="nx">push</span> <span class="o">=</span> <span class="p">(</span><span class="o">!</span><span class="nx">shouldUniques</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">first</span> <span class="o">||</span> <span class="p">(</span><span class="nx">parsed</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">parsed</span><span class="p">.</span><span class="nx">expressions</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushArray</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushUID</span><span class="p">;</span>&#x000A;&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">found</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="nx">found</span> <span class="o">=</span> <span class="p">[];</span></code>
    </figure>
    <section>
      <p>default engine</p>
    </section>
    <figure>
      <ol>
        <li>238</li>
        <li>239</li>
        <li>240</li>
        <li>241</li>
        <li>242</li>
        <li>243</li>
        <li>244</li>
        <li>245</li>
        <li>246</li>
        <li>247</li>
        <li>248</li>
        <li>249</li>
        <li>250</li>
        <li>251</li>
        <li>252</li>
        <li>253</li>
        <li>254</li>
        <li>255</li>
        <li>256</li>
        <li>257</li>
        <li>258</li>
        <li>259</li>
        <li>260</li>
        <li>261</li>
        <li>262</li>
        <li>263</li>
        <li>264</li>
        <li>265</li>
        <li>266</li>
        <li>267</li>
        <li>268</li>
        <li>269</li>
        <li>270</li>
        <li>271</li>
        <li>272</li>
        <li>273</li>
        <li>274</li>
        <li>275</li>
        <li>276</li>
        <li>277</li>
        <li>278</li>
        <li>279</li>
        <li>280</li>
        <li>281</li>
      </ol>
      <code><span class="kd">var</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">m</span><span class="p">,</span> <span class="nx">n</span><span class="p">;</span>&#x000A;	<span class="kd">var</span> <span class="nx">combinator</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classList</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">;</span>&#x000A;	<span class="kd">var</span> <span class="nx">currentItems</span><span class="p">,</span> <span class="nx">currentExpression</span><span class="p">,</span> <span class="nx">currentBit</span><span class="p">,</span> <span class="nx">lastBit</span><span class="p">,</span> <span class="nx">expressions</span> <span class="o">=</span> <span class="nx">parsed</span><span class="p">.</span><span class="nx">expressions</span><span class="p">;</span>&#x000A;&#x000A;	<span class="nx">search</span><span class="o">:</span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">(</span><span class="nx">currentExpression</span> <span class="o">=</span> <span class="nx">expressions</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">(</span><span class="nx">currentBit</span> <span class="o">=</span> <span class="nx">currentExpression</span><span class="p">[</span><span class="nx">j</span><span class="p">]);</span> <span class="nx">j</span><span class="o">++</span><span class="p">){</span>&#x000A;&#x000A;		<span class="nx">combinator</span> <span class="o">=</span> <span class="s1">&#39;combinator:&#39;</span> <span class="o">+</span> <span class="nx">currentBit</span><span class="p">.</span><span class="nx">combinator</span><span class="p">;</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">[</span><span class="nx">combinator</span><span class="p">])</span> <span class="k">continue</span> <span class="nx">search</span><span class="p">;</span>&#x000A;&#x000A;		<span class="nx">tag</span>        <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isXMLDocument</span><span class="p">)</span> <span class="o">?</span> <span class="nx">currentBit</span><span class="p">.</span><span class="nx">tag</span> <span class="o">:</span> <span class="nx">currentBit</span><span class="p">.</span><span class="nx">tag</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>&#x000A;		<span class="nx">id</span>         <span class="o">=</span> <span class="nx">currentBit</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>&#x000A;		<span class="nx">classList</span>  <span class="o">=</span> <span class="nx">currentBit</span><span class="p">.</span><span class="nx">classList</span><span class="p">;</span>&#x000A;		<span class="nx">classes</span>    <span class="o">=</span> <span class="nx">currentBit</span><span class="p">.</span><span class="nx">classes</span><span class="p">;</span>&#x000A;		<span class="nx">attributes</span> <span class="o">=</span> <span class="nx">currentBit</span><span class="p">.</span><span class="nx">attributes</span><span class="p">;</span>&#x000A;		<span class="nx">pseudos</span>    <span class="o">=</span> <span class="nx">currentBit</span><span class="p">.</span><span class="nx">pseudos</span><span class="p">;</span>&#x000A;		<span class="nx">lastBit</span>    <span class="o">=</span> <span class="p">(</span><span class="nx">j</span> <span class="o">===</span> <span class="p">(</span><span class="nx">currentExpression</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>&#x000A;&#x000A;		<span class="k">this</span><span class="p">.</span><span class="nx">bitUniques</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">lastBit</span><span class="p">){</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">uniques</span> <span class="o">=</span> <span class="nx">uniques</span><span class="p">;</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">found</span> <span class="o">=</span> <span class="nx">found</span><span class="p">;</span>&#x000A;		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">uniques</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">found</span> <span class="o">=</span> <span class="p">[];</span>&#x000A;		<span class="p">}</span>&#x000A;&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">j</span> <span class="o">===</span> <span class="mi">0</span><span class="p">){</span>&#x000A;			<span class="k">this</span><span class="p">[</span><span class="nx">combinator</span><span class="p">](</span><span class="nx">context</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">,</span> <span class="nx">classList</span><span class="p">);</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">first</span> <span class="o">&amp;&amp;</span> <span class="nx">lastBit</span> <span class="o">&amp;&amp;</span> <span class="nx">found</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="k">break</span> <span class="nx">search</span><span class="p">;</span>&#x000A;		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">first</span> <span class="o">&amp;&amp;</span> <span class="nx">lastBit</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="nx">m</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">currentItems</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">m</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">m</span><span class="o">++</span><span class="p">){</span>&#x000A;				<span class="k">this</span><span class="p">[</span><span class="nx">combinator</span><span class="p">](</span><span class="nx">currentItems</span><span class="p">[</span><span class="nx">m</span><span class="p">],</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">,</span> <span class="nx">classList</span><span class="p">);</span>&#x000A;				<span class="k">if</span> <span class="p">(</span><span class="nx">found</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="k">break</span> <span class="nx">search</span><span class="p">;</span>&#x000A;			<span class="p">}</span> <span class="k">else</span> <span class="k">for</span> <span class="p">(</span><span class="nx">m</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">currentItems</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">m</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">m</span><span class="o">++</span><span class="p">)</span> <span class="k">this</span><span class="p">[</span><span class="nx">combinator</span><span class="p">](</span><span class="nx">currentItems</span><span class="p">[</span><span class="nx">m</span><span class="p">],</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">,</span> <span class="nx">classList</span><span class="p">);</span>&#x000A;		<span class="p">}</span>&#x000A;&#x000A;		<span class="nx">currentItems</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">found</span><span class="p">;</span>&#x000A;	<span class="p">}</span>&#x000A;&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">shouldUniques</span> <span class="o">||</span> <span class="p">(</span><span class="nx">parsed</span><span class="p">.</span><span class="nx">expressions</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">))</span> <span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">found</span><span class="p">);</span>&#x000A;&#x000A;	<span class="k">return</span> <span class="p">(</span><span class="nx">first</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="nx">found</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">)</span> <span class="o">:</span> <span class="nx">found</span><span class="p">;</span>&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p>Utils</p>
    </section>
    <figure>
      <ol>
        <li>285</li>
        <li>286</li>
        <li>287</li>
        <li>288</li>
        <li>289</li>
        <li>290</li>
        <li>291</li>
        <li>292</li>
        <li>293</li>
        <li>294</li>
        <li>295</li>
        <li>296</li>
        <li>297</li>
        <li>298</li>
        <li>299</li>
      </ol>
      <code><span class="nx">local</span><span class="p">.</span><span class="nx">uidx</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">uidk</span> <span class="o">=</span> <span class="s1">&#39;slick:uniqueid&#39;</span><span class="p">;</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">getUIDXML</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;	<span class="kd">var</span> <span class="nx">uid</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">uidk</span><span class="p">);</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">uid</span><span class="p">){</span>&#x000A;		<span class="nx">uid</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">uidx</span><span class="o">++</span><span class="p">;</span>&#x000A;		<span class="nx">node</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">uidk</span><span class="p">,</span> <span class="nx">uid</span><span class="p">);</span>&#x000A;	<span class="p">}</span>&#x000A;	<span class="k">return</span> <span class="nx">uid</span><span class="p">;</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">getUIDHTML</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;	<span class="k">return</span> <span class="nx">node</span><span class="p">.</span><span class="nx">uniqueNumber</span> <span class="o">||</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">uniqueNumber</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">uidx</span><span class="o">++</span><span class="p">);</span>&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p>sort based on the setDocument documentSorter method.</p>
    </section>
    <figure>
      <ol>
        <li>303</li>
        <li>304</li>
        <li>305</li>
        <li>306</li>
        <li>307</li>
      </ol>
      <code><span class="nx">local</span><span class="p">.</span><span class="nx">sort</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">results</span><span class="p">){</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">documentSorter</span><span class="p">)</span> <span class="k">return</span> <span class="nx">results</span><span class="p">;</span>&#x000A;	<span class="nx">results</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">documentSorter</span><span class="p">);</span>&#x000A;	<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p>&lt;pseudo-selectors></p>
    </section>
    <figure>
      <ol>
        <li>311</li>
        <li>312</li>
        <li>313</li>
        <li>314</li>
        <li>315</li>
        <li>316</li>
        <li>317</li>
        <li>318</li>
        <li>319</li>
        <li>320</li>
        <li>321</li>
        <li>322</li>
        <li>323</li>
        <li>324</li>
        <li>325</li>
        <li>326</li>
        <li>327</li>
        <li>328</li>
        <li>329</li>
        <li>330</li>
        <li>331</li>
        <li>332</li>
        <li>333</li>
        <li>334</li>
        <li>335</li>
        <li>336</li>
        <li>337</li>
        <li>338</li>
        <li>339</li>
        <li>340</li>
        <li>341</li>
        <li>342</li>
        <li>343</li>
        <li>344</li>
        <li>345</li>
        <li>346</li>
        <li>347</li>
        <li>348</li>
        <li>349</li>
        <li>350</li>
        <li>351</li>
        <li>352</li>
        <li>353</li>
        <li>354</li>
        <li>355</li>
        <li>356</li>
        <li>357</li>
        <li>358</li>
        <li>359</li>
        <li>360</li>
        <li>361</li>
        <li>362</li>
      </ol>
      <code><span class="nx">local</span><span class="p">.</span><span class="nx">cacheNTH</span> <span class="o">=</span> <span class="p">{};</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">matchNTH</span> <span class="o">=</span> <span class="sr">/^([+-]?\d*)?([a-z]+)?([+-]\d+)?$/</span><span class="p">;</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">parseNTHArgument</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">argument</span><span class="p">){</span>&#x000A;	<span class="kd">var</span> <span class="nx">parsed</span> <span class="o">=</span> <span class="nx">argument</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">matchNTH</span><span class="p">);</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">parsed</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;	<span class="kd">var</span> <span class="nx">special</span> <span class="o">=</span> <span class="nx">parsed</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">||</span> <span class="kc">false</span><span class="p">;</span>&#x000A;	<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">parsed</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="mi">1</span><span class="p">;</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="nx">a</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>&#x000A;	<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="o">+</span><span class="nx">parsed</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>&#x000A;	<span class="nx">parsed</span> <span class="o">=</span>&#x000A;		<span class="p">(</span><span class="nx">special</span> <span class="o">==</span> <span class="s1">&#39;n&#39;</span><span class="p">)</span>	<span class="o">?</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="nx">b</span><span class="p">}</span> <span class="o">:</span>&#x000A;		<span class="p">(</span><span class="nx">special</span> <span class="o">==</span> <span class="s1">&#39;odd&#39;</span><span class="p">)</span>	<span class="o">?</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">1</span><span class="p">}</span> <span class="o">:</span>&#x000A;		<span class="p">(</span><span class="nx">special</span> <span class="o">==</span> <span class="s1">&#39;even&#39;</span><span class="p">)</span>	<span class="o">?</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">0</span><span class="p">}</span> <span class="o">:</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="nx">a</span><span class="p">};</span>&#x000A;&#x000A;	<span class="k">return</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cacheNTH</span><span class="p">[</span><span class="nx">argument</span><span class="p">]</span> <span class="o">=</span> <span class="nx">parsed</span><span class="p">);</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">createNTHPseudo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">child</span><span class="p">,</span> <span class="nx">sibling</span><span class="p">,</span> <span class="nx">positions</span><span class="p">,</span> <span class="nx">ofType</span><span class="p">){</span>&#x000A;	<span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">argument</span><span class="p">){</span>&#x000A;		<span class="kd">var</span> <span class="nx">uid</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getUID</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">[</span><span class="nx">positions</span><span class="p">][</span><span class="nx">uid</span><span class="p">]){</span>&#x000A;			<span class="kd">var</span> <span class="nx">parent</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">parent</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;			<span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="nx">parent</span><span class="p">[</span><span class="nx">child</span><span class="p">],</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">ofType</span><span class="p">){</span>&#x000A;				<span class="kd">var</span> <span class="nx">nodeName</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">;</span>&#x000A;				<span class="k">do</span> <span class="p">{</span>&#x000A;					<span class="k">if</span> <span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">!==</span> <span class="nx">nodeName</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>&#x000A;					<span class="k">this</span><span class="p">[</span><span class="nx">positions</span><span class="p">][</span><span class="k">this</span><span class="p">.</span><span class="nx">getUID</span><span class="p">(</span><span class="nx">el</span><span class="p">)]</span> <span class="o">=</span> <span class="nx">count</span><span class="o">++</span><span class="p">;</span>&#x000A;				<span class="p">}</span> <span class="k">while</span> <span class="p">((</span><span class="nx">el</span> <span class="o">=</span> <span class="nx">el</span><span class="p">[</span><span class="nx">sibling</span><span class="p">]));</span>&#x000A;			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;				<span class="k">do</span> <span class="p">{</span>&#x000A;					<span class="k">if</span> <span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>&#x000A;					<span class="k">this</span><span class="p">[</span><span class="nx">positions</span><span class="p">][</span><span class="k">this</span><span class="p">.</span><span class="nx">getUID</span><span class="p">(</span><span class="nx">el</span><span class="p">)]</span> <span class="o">=</span> <span class="nx">count</span><span class="o">++</span><span class="p">;</span>&#x000A;				<span class="p">}</span> <span class="k">while</span> <span class="p">((</span><span class="nx">el</span> <span class="o">=</span> <span class="nx">el</span><span class="p">[</span><span class="nx">sibling</span><span class="p">]));</span>&#x000A;			<span class="p">}</span>&#x000A;		<span class="p">}</span>&#x000A;		<span class="nx">argument</span> <span class="o">=</span> <span class="nx">argument</span> <span class="o">||</span> <span class="s1">&#39;n&#39;</span><span class="p">;</span>&#x000A;		<span class="kd">var</span> <span class="nx">parsed</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">cacheNTH</span><span class="p">[</span><span class="nx">argument</span><span class="p">]</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">parseNTHArgument</span><span class="p">(</span><span class="nx">argument</span><span class="p">);</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">parsed</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;		<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">parsed</span><span class="p">.</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">parsed</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span> <span class="nx">pos</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">positions</span><span class="p">][</span><span class="nx">uid</span><span class="p">];</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nx">b</span> <span class="o">==</span> <span class="nx">pos</span><span class="p">;</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">pos</span> <span class="o">&lt;</span> <span class="nx">b</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">b</span> <span class="o">&lt;</span> <span class="nx">pos</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;		<span class="p">}</span>&#x000A;		<span class="k">return</span> <span class="p">((</span><span class="nx">pos</span> <span class="o">-</span> <span class="nx">b</span><span class="p">)</span> <span class="o">%</span> <span class="nx">a</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span>&#x000A;	<span class="p">};</span>&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p>&lt;/nth-pseudo-selectors></p>
    </section>
    <figure>
      <ol>
        <li>366</li>
        <li>367</li>
        <li>368</li>
        <li>369</li>
        <li>370</li>
        <li>371</li>
        <li>372</li>
        <li>373</li>
        <li>374</li>
        <li>375</li>
        <li>376</li>
        <li>377</li>
        <li>378</li>
        <li>379</li>
        <li>380</li>
      </ol>
      <code><span class="nx">local</span><span class="p">.</span><span class="nx">pushArray</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">matchSelector</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">))</span> <span class="k">this</span><span class="p">.</span><span class="nx">found</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">pushUID</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span>&#x000A;	<span class="kd">var</span> <span class="nx">uid</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getUID</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">uniques</span><span class="p">[</span><span class="nx">uid</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">matchSelector</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">)){</span>&#x000A;		<span class="k">this</span><span class="p">.</span><span class="nx">uniques</span><span class="p">[</span><span class="nx">uid</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>&#x000A;		<span class="k">this</span><span class="p">.</span><span class="nx">found</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;	<span class="p">}</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">matchNode</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">selector</span><span class="p">){</span>&#x000A;	<span class="kd">var</span> <span class="nx">parsed</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">Slick</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">selector</span><span class="p">);</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">parsed</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span></code>
    </figure>
    <section>
      <p>simple (single) selectors</p>
    </section>
    <figure>
      <ol>
        <li>383</li>
        <li>384</li>
        <li>385</li>
        <li>386</li>
        <li>387</li>
        <li>388</li>
        <li>389</li>
        <li>390</li>
        <li>391</li>
        <li>392</li>
        <li>393</li>
        <li>394</li>
        <li>395</li>
        <li>396</li>
        <li>397</li>
        <li>398</li>
        <li>399</li>
        <li>400</li>
        <li>401</li>
        <li>402</li>
        <li>403</li>
        <li>404</li>
        <li>405</li>
        <li>406</li>
        <li>407</li>
        <li>408</li>
        <li>409</li>
        <li>410</li>
        <li>411</li>
        <li>412</li>
        <li>413</li>
        <li>414</li>
        <li>415</li>
        <li>416</li>
        <li>417</li>
        <li>418</li>
        <li>419</li>
        <li>420</li>
        <li>421</li>
        <li>422</li>
        <li>423</li>
        <li>424</li>
        <li>425</li>
        <li>426</li>
        <li>427</li>
        <li>428</li>
        <li>429</li>
        <li>430</li>
        <li>431</li>
        <li>432</li>
        <li>433</li>
        <li>434</li>
        <li>435</li>
        <li>436</li>
        <li>437</li>
        <li>438</li>
      </ol>
      <code><span class="k">if</span><span class="p">(</span><span class="nx">parsed</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">parsed</span><span class="p">.</span><span class="nx">expressions</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>&#x000A;		<span class="kd">var</span> <span class="nx">exp</span> <span class="o">=</span> <span class="nx">parsed</span><span class="p">.</span><span class="nx">expressions</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>&#x000A;		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">matchSelector</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isXMLDocument</span><span class="p">)</span> <span class="o">?</span> <span class="nx">exp</span><span class="p">.</span><span class="nx">tag</span> <span class="o">:</span> <span class="nx">exp</span><span class="p">.</span><span class="nx">tag</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">(),</span> <span class="nx">exp</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="nx">exp</span><span class="p">.</span><span class="nx">classes</span><span class="p">,</span> <span class="nx">exp</span><span class="p">.</span><span class="nx">attributes</span><span class="p">,</span> <span class="nx">exp</span><span class="p">.</span><span class="nx">pseudos</span><span class="p">);</span>&#x000A;	<span class="p">}</span>&#x000A;&#x000A;	<span class="kd">var</span> <span class="nx">nodes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nb">document</span><span class="p">,</span> <span class="nx">parsed</span><span class="p">);</span>&#x000A;	<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">item</span><span class="p">;</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">nodes</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];){</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">item</span> <span class="o">===</span> <span class="nx">node</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;	<span class="p">}</span>&#x000A;	<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">matchPseudo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">argument</span><span class="p">){</span>&#x000A;	<span class="kd">var</span> <span class="nx">pseudoName</span> <span class="o">=</span> <span class="s1">&#39;pseudo:&#39;</span> <span class="o">+</span> <span class="nx">name</span><span class="p">;</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">pseudoName</span><span class="p">])</span> <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="nx">pseudoName</span><span class="p">](</span><span class="nx">node</span><span class="p">,</span> <span class="nx">argument</span><span class="p">);</span>&#x000A;	<span class="kd">var</span> <span class="nx">attribute</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>&#x000A;	<span class="k">return</span> <span class="p">(</span><span class="nx">argument</span><span class="p">)</span> <span class="o">?</span> <span class="nx">argument</span> <span class="o">==</span> <span class="nx">attribute</span> <span class="o">:</span> <span class="o">!!</span><span class="nx">attribute</span><span class="p">;</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">matchSelector</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">tag</span><span class="p">){</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">tag</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">){</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">&lt;</span> <span class="s1">&#39;@&#39;</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// Fix for comment nodes and closed nodes</span>&#x000A;		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">!=</span> <span class="nx">tag</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;		<span class="p">}</span>&#x000A;	<span class="p">}</span>&#x000A;&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">id</span> <span class="o">&amp;&amp;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="nx">id</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;&#x000A;	<span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">part</span><span class="p">,</span> <span class="nx">cls</span><span class="p">;</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">classes</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">classes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">;){</span>&#x000A;		<span class="nx">cls</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;className&#39;</span> <span class="k">in</span> <span class="nx">node</span><span class="p">)</span> <span class="o">?</span> <span class="nx">node</span><span class="p">.</span><span class="nx">className</span> <span class="o">:</span> <span class="nx">node</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">);</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">cls</span> <span class="o">&amp;&amp;</span> <span class="nx">classes</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">regexp</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">cls</span><span class="p">)))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;	<span class="p">}</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">attributes</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">attributes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">;){</span>&#x000A;		<span class="nx">part</span> <span class="o">=</span> <span class="nx">attributes</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">part</span><span class="p">.</span><span class="nx">operator</span> <span class="o">?</span> <span class="o">!</span><span class="nx">part</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">part</span><span class="p">.</span><span class="nx">key</span><span class="p">))</span> <span class="o">:</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">hasAttribute</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">part</span><span class="p">.</span><span class="nx">key</span><span class="p">))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;	<span class="p">}</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">pseudos</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">pseudos</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">;){</span>&#x000A;		<span class="nx">part</span> <span class="o">=</span> <span class="nx">pseudos</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">matchPseudo</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">part</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span> <span class="nx">part</span><span class="p">.</span><span class="nx">value</span><span class="p">))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;	<span class="p">}</span>&#x000A;	<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="kd">var</span> <span class="nx">combinators</span> <span class="o">=</span> <span class="p">{</span>&#x000A;&#x000A;	<span class="s1">&#39; &#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">,</span> <span class="nx">classList</span><span class="p">){</span> <span class="c1">// all child nodes, any level</span>&#x000A;&#x000A;		<span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">children</span><span class="p">;</span>&#x000A;&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isXMLDocument</span><span class="p">){</span>&#x000A;			<span class="nx">getById</span><span class="o">:</span> <span class="k">if</span> <span class="p">(</span><span class="nx">id</span><span class="p">){</span>&#x000A;				<span class="nx">item</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>&#x000A;				<span class="k">if</span> <span class="p">((</span><span class="o">!</span><span class="nx">item</span> <span class="o">&amp;&amp;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">all</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">idGetsName</span> <span class="o">&amp;&amp;</span> <span class="nx">item</span> <span class="o">&amp;&amp;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">).</span><span class="nx">nodeValue</span> <span class="o">!=</span> <span class="nx">id</span><span class="p">)){</span></code>
    </figure>
    <section>
      <p>all[id] returns all the elements with that name or id inside node
      if theres just one it will return the element, else it will be a collection</p>
    </section>
    <figure>
      <ol>
        <li>441</li>
        <li>442</li>
        <li>443</li>
        <li>444</li>
        <li>445</li>
        <li>446</li>
        <li>447</li>
        <li>448</li>
        <li>449</li>
        <li>450</li>
      </ol>
      <code><span class="nx">children</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">all</span><span class="p">[</span><span class="nx">id</span><span class="p">];</span>&#x000A;					<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">children</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>&#x000A;					<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">children</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="nx">children</span> <span class="o">=</span> <span class="p">[</span><span class="nx">children</span><span class="p">];</span>&#x000A;					<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">children</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];)</span> <span class="k">if</span> <span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">).</span><span class="nx">nodeValue</span> <span class="o">==</span> <span class="nx">id</span><span class="p">){</span>&#x000A;						<span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;						<span class="k">break</span><span class="p">;</span>&#x000A;					<span class="p">}</span> &#x000A;					<span class="k">return</span><span class="p">;</span>&#x000A;				<span class="p">}</span>&#x000A;				<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">item</span><span class="p">){</span></code>
    </figure>
    <section>
      <p>if the context is in the dom we return, else we will try GEBTN, breaking the getById label</p>
    </section>
    <figure>
      <ol>
        <li>452</li>
        <li>453</li>
        <li>454</li>
        <li>455</li>
        <li>456</li>
        <li>457</li>
        <li>458</li>
        <li>459</li>
        <li>460</li>
        <li>461</li>
        <li>462</li>
        <li>463</li>
        <li>464</li>
        <li>465</li>
        <li>466</li>
        <li>467</li>
        <li>468</li>
        <li>469</li>
        <li>470</li>
        <li>471</li>
        <li>472</li>
        <li>473</li>
        <li>474</li>
        <li>475</li>
        <li>476</li>
        <li>477</li>
        <li>478</li>
        <li>479</li>
        <li>480</li>
        <li>481</li>
        <li>482</li>
        <li>483</li>
        <li>484</li>
        <li>485</li>
        <li>486</li>
        <li>487</li>
        <li>488</li>
        <li>489</li>
        <li>490</li>
        <li>491</li>
        <li>492</li>
        <li>493</li>
        <li>494</li>
        <li>495</li>
        <li>496</li>
        <li>497</li>
        <li>498</li>
        <li>499</li>
        <li>500</li>
        <li>501</li>
        <li>502</li>
        <li>503</li>
        <li>504</li>
        <li>505</li>
        <li>506</li>
        <li>507</li>
        <li>508</li>
        <li>509</li>
        <li>510</li>
        <li>511</li>
        <li>512</li>
        <li>513</li>
        <li>514</li>
        <li>515</li>
        <li>516</li>
        <li>517</li>
        <li>518</li>
        <li>519</li>
        <li>520</li>
        <li>521</li>
        <li>522</li>
        <li>523</li>
        <li>524</li>
        <li>525</li>
        <li>526</li>
        <li>527</li>
        <li>528</li>
        <li>529</li>
        <li>530</li>
        <li>531</li>
        <li>532</li>
        <li>533</li>
        <li>534</li>
        <li>535</li>
        <li>536</li>
        <li>537</li>
        <li>538</li>
        <li>539</li>
        <li>540</li>
        <li>541</li>
        <li>542</li>
        <li>543</li>
        <li>544</li>
        <li>545</li>
        <li>546</li>
        <li>547</li>
        <li>548</li>
        <li>549</li>
        <li>550</li>
        <li>551</li>
        <li>552</li>
      </ol>
      <code><span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">,</span> <span class="nx">node</span><span class="p">))</span> <span class="k">return</span><span class="p">;</span>&#x000A;					<span class="k">else</span> <span class="k">break</span> <span class="nx">getById</span><span class="p">;</span>&#x000A;				<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nb">document</span> <span class="o">!==</span> <span class="nx">node</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">item</span><span class="p">))</span> <span class="k">return</span><span class="p">;</span>&#x000A;				<span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;				<span class="k">return</span><span class="p">;</span>&#x000A;			<span class="p">}</span>&#x000A;			<span class="nx">getByClass</span><span class="o">:</span> <span class="k">if</span> <span class="p">(</span><span class="nx">classes</span> <span class="o">&amp;&amp;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">getElementsByClassName</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">brokenGEBCN</span><span class="p">){</span>&#x000A;				<span class="nx">children</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="nx">classList</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">));</span>&#x000A;				<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">children</span> <span class="o">&amp;&amp;</span> <span class="nx">children</span><span class="p">.</span><span class="nx">length</span><span class="p">))</span> <span class="k">break</span> <span class="nx">getByClass</span><span class="p">;</span>&#x000A;				<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">children</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];)</span> <span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;				<span class="k">return</span><span class="p">;</span>&#x000A;			<span class="p">}</span>&#x000A;		<span class="p">}</span>&#x000A;		<span class="nx">getByTag</span><span class="o">:</span> <span class="p">{</span>&#x000A;			<span class="nx">children</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">tag</span><span class="p">);</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">children</span> <span class="o">&amp;&amp;</span> <span class="nx">children</span><span class="p">.</span><span class="nx">length</span><span class="p">))</span> <span class="k">break</span> <span class="nx">getByTag</span><span class="p">;</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">brokenStarGEBTN</span><span class="p">)</span> <span class="nx">tag</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>&#x000A;			<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">children</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];)</span> <span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;		<span class="p">}</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;&gt;&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span> <span class="c1">// direct children</span>&#x000A;		<span class="k">if</span> <span class="p">((</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">))</span> <span class="k">do</span> <span class="p">{</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;		<span class="p">}</span> <span class="k">while</span> <span class="p">((</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">));</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;+&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span> <span class="c1">// next sibling</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">))</span> <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">){</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;			<span class="k">break</span><span class="p">;</span>&#x000A;		<span class="p">}</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;^&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span> <span class="c1">// first child</span>&#x000A;		<span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;			<span class="k">else</span> <span class="k">this</span><span class="p">[</span><span class="s1">&#39;combinator:+&#39;</span><span class="p">](</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;		<span class="p">}</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;~&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span> <span class="c1">// next siblings</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">)){</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>&#x000A;			<span class="kd">var</span> <span class="nx">uid</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getUID</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bitUniques</span><span class="p">[</span><span class="nx">uid</span><span class="p">])</span> <span class="k">break</span><span class="p">;</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">bitUniques</span><span class="p">[</span><span class="nx">uid</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;		<span class="p">}</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;++&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span> <span class="c1">// next sibling and previous sibling</span>&#x000A;		<span class="k">this</span><span class="p">[</span><span class="s1">&#39;combinator:+&#39;</span><span class="p">](</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;		<span class="k">this</span><span class="p">[</span><span class="s1">&#39;combinator:!+&#39;</span><span class="p">](</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;~~&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span> <span class="c1">// next siblings and previous siblings</span>&#x000A;		<span class="k">this</span><span class="p">[</span><span class="s1">&#39;combinator:~&#39;</span><span class="p">](</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;		<span class="k">this</span><span class="p">[</span><span class="s1">&#39;combinator:!~&#39;</span><span class="p">](</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;!&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span>  <span class="c1">// all parent nodes up to document</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">))</span> <span class="k">if</span> <span class="p">(</span><span class="nx">node</span> <span class="o">!==</span> <span class="k">this</span><span class="p">.</span><span class="nb">document</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;!&gt;&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span> <span class="c1">// direct parent (one level)</span>&#x000A;		<span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">node</span> <span class="o">!==</span> <span class="k">this</span><span class="p">.</span><span class="nb">document</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;!+&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span> <span class="c1">// previous sibling</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">previousSibling</span><span class="p">))</span> <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">){</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;			<span class="k">break</span><span class="p">;</span>&#x000A;		<span class="p">}</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;!^&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span> <span class="c1">// last child</span>&#x000A;		<span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">;</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;			<span class="k">else</span> <span class="k">this</span><span class="p">[</span><span class="s1">&#39;combinator:!+&#39;</span><span class="p">](</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;		<span class="p">}</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;!~&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">){</span> <span class="c1">// previous siblings</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">previousSibling</span><span class="p">)){</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>&#x000A;			<span class="kd">var</span> <span class="nx">uid</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getUID</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bitUniques</span><span class="p">[</span><span class="nx">uid</span><span class="p">])</span> <span class="k">break</span><span class="p">;</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">bitUniques</span><span class="p">[</span><span class="nx">uid</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>&#x000A;			<span class="k">this</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">classes</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">pseudos</span><span class="p">);</span>&#x000A;		<span class="p">}</span>&#x000A;	<span class="p">}</span>&#x000A;&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">c</span> <span class="k">in</span> <span class="nx">combinators</span><span class="p">)</span> <span class="nx">local</span><span class="p">[</span><span class="s1">&#39;combinator:&#39;</span> <span class="o">+</span> <span class="nx">c</span><span class="p">]</span> <span class="o">=</span> <span class="nx">combinators</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span>&#x000A;&#x000A;<span class="kd">var</span> <span class="nx">pseudos</span> <span class="o">=</span> <span class="p">{</span></code>
    </figure>
    <section>
      <p>&lt;pseudo-selectors></p>
    </section>
    <figure>
      <ol>
        <li>556</li>
        <li>557</li>
        <li>558</li>
        <li>559</li>
        <li>560</li>
        <li>561</li>
        <li>562</li>
        <li>563</li>
        <li>564</li>
        <li>565</li>
        <li>566</li>
        <li>567</li>
        <li>568</li>
        <li>569</li>
        <li>570</li>
        <li>571</li>
        <li>572</li>
        <li>573</li>
        <li>574</li>
        <li>575</li>
        <li>576</li>
        <li>577</li>
        <li>578</li>
        <li>579</li>
        <li>580</li>
        <li>581</li>
        <li>582</li>
        <li>583</li>
        <li>584</li>
        <li>585</li>
      </ol>
      <code><span class="s1">&#39;empty&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="kd">var</span> <span class="nx">child</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span>&#x000A;		<span class="k">return</span> <span class="o">!</span><span class="p">(</span><span class="nx">child</span> <span class="o">&amp;&amp;</span> <span class="nx">child</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">||</span> <span class="nx">node</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;not&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">expression</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">matchNode</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">expression</span><span class="p">);</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;contains&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">text</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">||</span> <span class="nx">node</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;first-child&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">previousSibling</span><span class="p">))</span> <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;		<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;last-child&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">))</span> <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;		<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;only-child&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="kd">var</span> <span class="nx">prev</span> <span class="o">=</span> <span class="nx">node</span><span class="p">;</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">prev</span> <span class="o">=</span> <span class="nx">prev</span><span class="p">.</span><span class="nx">previousSibling</span><span class="p">))</span> <span class="k">if</span> <span class="p">(</span><span class="nx">prev</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;		<span class="kd">var</span> <span class="nx">next</span> <span class="o">=</span> <span class="nx">node</span><span class="p">;</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">next</span> <span class="o">=</span> <span class="nx">next</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">))</span> <span class="k">if</span> <span class="p">(</span><span class="nx">next</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;		<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;	<span class="p">},</span></code>
    </figure>
    <section>
      <p>&lt;nth-pseudo-selectors></p>
    </section>
    <figure>
      <ol>
        <li>589</li>
        <li>590</li>
        <li>591</li>
        <li>592</li>
        <li>593</li>
        <li>594</li>
        <li>595</li>
        <li>596</li>
        <li>597</li>
        <li>598</li>
        <li>599</li>
        <li>600</li>
        <li>601</li>
        <li>602</li>
        <li>603</li>
        <li>604</li>
        <li>605</li>
        <li>606</li>
        <li>607</li>
      </ol>
      <code><span class="s1">&#39;nth-child&#39;</span><span class="o">:</span> <span class="nx">local</span><span class="p">.</span><span class="nx">createNTHPseudo</span><span class="p">(</span><span class="s1">&#39;firstChild&#39;</span><span class="p">,</span> <span class="s1">&#39;nextSibling&#39;</span><span class="p">,</span> <span class="s1">&#39;posNTH&#39;</span><span class="p">),</span>&#x000A;&#x000A;	<span class="s1">&#39;nth-last-child&#39;</span><span class="o">:</span> <span class="nx">local</span><span class="p">.</span><span class="nx">createNTHPseudo</span><span class="p">(</span><span class="s1">&#39;lastChild&#39;</span><span class="p">,</span> <span class="s1">&#39;previousSibling&#39;</span><span class="p">,</span> <span class="s1">&#39;posNTHLast&#39;</span><span class="p">),</span>&#x000A;&#x000A;	<span class="s1">&#39;nth-of-type&#39;</span><span class="o">:</span> <span class="nx">local</span><span class="p">.</span><span class="nx">createNTHPseudo</span><span class="p">(</span><span class="s1">&#39;firstChild&#39;</span><span class="p">,</span> <span class="s1">&#39;nextSibling&#39;</span><span class="p">,</span> <span class="s1">&#39;posNTHType&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">),</span>&#x000A;&#x000A;	<span class="s1">&#39;nth-last-of-type&#39;</span><span class="o">:</span> <span class="nx">local</span><span class="p">.</span><span class="nx">createNTHPseudo</span><span class="p">(</span><span class="s1">&#39;lastChild&#39;</span><span class="p">,</span> <span class="s1">&#39;previousSibling&#39;</span><span class="p">,</span> <span class="s1">&#39;posNTHTypeLast&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">),</span>&#x000A;&#x000A;	<span class="s1">&#39;index&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">index</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="s1">&#39;pseudo:nth-child&#39;</span><span class="p">](</span><span class="nx">node</span><span class="p">,</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="nx">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;even&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">argument</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="s1">&#39;pseudo:nth-child&#39;</span><span class="p">](</span><span class="nx">node</span><span class="p">,</span> <span class="s1">&#39;2n&#39;</span><span class="p">);</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;odd&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">argument</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="s1">&#39;pseudo:nth-child&#39;</span><span class="p">](</span><span class="nx">node</span><span class="p">,</span> <span class="s1">&#39;2n+1&#39;</span><span class="p">);</span>&#x000A;	<span class="p">},</span></code>
    </figure>
    <section>
      <p>&lt;/nth-pseudo-selectors></p>
    </section>
    <section>
      <p>&lt;of-type-pseudo-selectors></p>
    </section>
    <figure>
      <ol>
        <li>613</li>
        <li>614</li>
        <li>615</li>
        <li>616</li>
        <li>617</li>
        <li>618</li>
        <li>619</li>
        <li>620</li>
        <li>621</li>
        <li>622</li>
        <li>623</li>
        <li>624</li>
        <li>625</li>
        <li>626</li>
        <li>627</li>
        <li>628</li>
        <li>629</li>
        <li>630</li>
        <li>631</li>
      </ol>
      <code><span class="s1">&#39;first-of-type&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="kd">var</span> <span class="nx">nodeName</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">;</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">previousSibling</span><span class="p">))</span> <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">===</span> <span class="nx">nodeName</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;		<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;last-of-type&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="kd">var</span> <span class="nx">nodeName</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">;</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">))</span> <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">===</span> <span class="nx">nodeName</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;		<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;only-of-type&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="kd">var</span> <span class="nx">prev</span> <span class="o">=</span> <span class="nx">node</span><span class="p">,</span> <span class="nx">nodeName</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">;</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">prev</span> <span class="o">=</span> <span class="nx">prev</span><span class="p">.</span><span class="nx">previousSibling</span><span class="p">))</span> <span class="k">if</span> <span class="p">(</span><span class="nx">prev</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">===</span> <span class="nx">nodeName</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;		<span class="kd">var</span> <span class="nx">next</span> <span class="o">=</span> <span class="nx">node</span><span class="p">;</span>&#x000A;		<span class="k">while</span> <span class="p">((</span><span class="nx">next</span> <span class="o">=</span> <span class="nx">next</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">))</span> <span class="k">if</span> <span class="p">(</span><span class="nx">next</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">===</span> <span class="nx">nodeName</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;		<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;	<span class="p">},</span></code>
    </figure>
    <section>
      <p>&lt;/of-type-pseudo-selectors></p>
    </section>
    <section>
      <p>custom pseudos</p>
    </section>
    <figure>
      <ol>
        <li>637</li>
        <li>638</li>
        <li>639</li>
        <li>640</li>
        <li>641</li>
        <li>642</li>
        <li>643</li>
        <li>644</li>
        <li>645</li>
        <li>646</li>
        <li>647</li>
        <li>648</li>
        <li>649</li>
        <li>650</li>
        <li>651</li>
        <li>652</li>
        <li>653</li>
        <li>654</li>
        <li>655</li>
        <li>656</li>
        <li>657</li>
        <li>658</li>
        <li>659</li>
      </ol>
      <code><span class="s1">&#39;enabled&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">disabled</span> <span class="o">===</span> <span class="kc">false</span><span class="p">);</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;disabled&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">disabled</span> <span class="o">===</span> <span class="kc">true</span><span class="p">);</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;checked&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="nx">node</span><span class="p">.</span><span class="nx">checked</span><span class="p">;</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;selected&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="nx">node</span><span class="p">.</span><span class="nx">selected</span><span class="p">;</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;focus&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isXMLDocument</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">activeElement</span> <span class="o">===</span> <span class="nx">node</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">href</span> <span class="o">||</span> <span class="nx">node</span><span class="p">.</span><span class="nx">type</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">hasAttribute</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="s1">&#39;tabindex&#39;</span><span class="p">));</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;root&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="p">(</span><span class="nx">node</span> <span class="o">===</span> <span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">);</span>&#x000A;	<span class="p">}</span></code>
    </figure>
    <section>
      <p>&lt;/pseudo-selectors></p>
    </section>
    <figure>
      <ol>
        <li>662</li>
        <li>663</li>
        <li>664</li>
      </ol>
      <code><span class="p">};</span>&#x000A;&#x000A;<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">p</span> <span class="k">in</span> <span class="nx">pseudos</span><span class="p">)</span> <span class="nx">local</span><span class="p">[</span><span class="s1">&#39;pseudo:&#39;</span> <span class="o">+</span> <span class="nx">p</span><span class="p">]</span> <span class="o">=</span> <span class="nx">pseudos</span><span class="p">[</span><span class="nx">p</span><span class="p">];</span></code>
    </figure>
    <section>
      <p>attributes methods</p>
    </section>
    <figure>
      <ol>
        <li>668</li>
        <li>669</li>
        <li>670</li>
        <li>671</li>
        <li>672</li>
        <li>673</li>
        <li>674</li>
        <li>675</li>
        <li>676</li>
        <li>677</li>
        <li>678</li>
        <li>679</li>
        <li>680</li>
        <li>681</li>
        <li>682</li>
        <li>683</li>
        <li>684</li>
        <li>685</li>
        <li>686</li>
        <li>687</li>
        <li>688</li>
      </ol>
      <code><span class="nx">local</span><span class="p">.</span><span class="nx">attributeGetters</span> <span class="o">=</span> <span class="p">{</span>&#x000A;&#x000A;	<span class="s1">&#39;class&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>&#x000A;		<span class="k">return</span> <span class="p">(</span><span class="s1">&#39;className&#39;</span> <span class="k">in</span> <span class="k">this</span><span class="p">)</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">className</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">);</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;for&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>&#x000A;		<span class="k">return</span> <span class="p">(</span><span class="s1">&#39;htmlFor&#39;</span> <span class="k">in</span> <span class="k">this</span><span class="p">)</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">htmlFor</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;for&#39;</span><span class="p">);</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;href&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>&#x000A;		<span class="k">return</span> <span class="p">(</span><span class="s1">&#39;href&#39;</span> <span class="k">in</span> <span class="k">this</span><span class="p">)</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">);</span>&#x000A;	<span class="p">},</span>&#x000A;&#x000A;	<span class="s1">&#39;style&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>&#x000A;		<span class="k">return</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">style</span><span class="p">)</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">);</span>&#x000A;	<span class="p">}</span>&#x000A;&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">getAttribute</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">name</span><span class="p">){</span></code>
    </figure>
    <section>
      <p>FIXME: check if getAttribute() will get input elements on a form on this browser
      getAttribute is faster than getAttributeNode().nodeValue</p>
    </section>
    <figure>
      <ol>
        <li>691</li>
        <li>692</li>
        <li>693</li>
        <li>694</li>
        <li>695</li>
      </ol>
      <code><span class="kd">var</span> <span class="nx">method</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">attributeGetters</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">method</span><span class="p">)</span> <span class="k">return</span> <span class="nx">method</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;	<span class="kd">var</span> <span class="nx">attributeNode</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>&#x000A;	<span class="k">return</span> <span class="nx">attributeNode</span> <span class="o">?</span> <span class="nx">attributeNode</span><span class="p">.</span><span class="nx">nodeValue</span> <span class="o">:</span> <span class="kc">null</span><span class="p">;</span>&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p>overrides</p>
    </section>
    <figure>
      <ol>
        <li>699</li>
        <li>700</li>
        <li>701</li>
        <li>702</li>
        <li>703</li>
      </ol>
      <code><span class="nx">local</span><span class="p">.</span><span class="nx">overrides</span> <span class="o">=</span> <span class="p">[];</span>&#x000A;&#x000A;<span class="nx">local</span><span class="p">.</span><span class="nx">override</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">regexp</span><span class="p">,</span> <span class="nx">method</span><span class="p">){</span>&#x000A;	<span class="k">this</span><span class="p">.</span><span class="nx">overrides</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">regexp</span><span class="o">:</span> <span class="nx">regexp</span><span class="p">,</span> <span class="nx">method</span><span class="o">:</span> <span class="nx">method</span><span class="p">});</span>&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p><overrides></p>
    </section>
    <section>
      <p>&lt;query-selector-override></p>
    </section>
    <figure>
      <ol>
        <li>709</li>
        <li>710</li>
        <li>711</li>
        <li>712</li>
        <li>713</li>
        <li>714</li>
        <li>715</li>
        <li>716</li>
        <li>717</li>
        <li>718</li>
        <li>719</li>
        <li>720</li>
        <li>721</li>
        <li>722</li>
        <li>723</li>
        <li>724</li>
        <li>725</li>
        <li>726</li>
        <li>727</li>
        <li>728</li>
        <li>729</li>
        <li>730</li>
        <li>731</li>
        <li>732</li>
        <li>733</li>
      </ol>
      <code><span class="nx">local</span><span class="p">.</span><span class="nx">override</span><span class="p">(</span><span class="sr">/./</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expression</span><span class="p">,</span> <span class="nx">found</span><span class="p">,</span> <span class="nx">first</span><span class="p">){</span> <span class="c1">//querySelectorAll override</span>&#x000A;&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">querySelectorAll</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!=</span> <span class="mi">9</span> <span class="o">||</span> <span class="nx">local</span><span class="p">.</span><span class="nx">isXMLDocument</span> <span class="o">||</span> <span class="nx">local</span><span class="p">.</span><span class="nx">brokenMixedCaseQSA</span> <span class="o">||</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">disableQSA</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;&#x000A;	<span class="kd">var</span> <span class="nx">nodes</span><span class="p">,</span> <span class="nx">node</span><span class="p">;</span>&#x000A;	<span class="k">try</span> <span class="p">{</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">first</span><span class="p">)</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">expression</span><span class="p">)</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>&#x000A;		<span class="k">else</span> <span class="nx">nodes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">expression</span><span class="p">);</span>&#x000A;	<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;	<span class="p">}</span>&#x000A;&#x000A;	<span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">hasOthers</span> <span class="o">=</span> <span class="o">!!</span><span class="p">(</span><span class="nx">found</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>&#x000A;&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">local</span><span class="p">.</span><span class="nx">starSelectsClosedQSA</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">nodes</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];){</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">&gt;</span> <span class="s1">&#39;@&#39;</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="nx">hasOthers</span> <span class="o">||</span> <span class="o">!</span><span class="nx">local</span><span class="p">.</span><span class="nx">uniques</span><span class="p">[</span><span class="nx">local</span><span class="p">.</span><span class="nx">getUIDHTML</span><span class="p">(</span><span class="nx">node</span><span class="p">)]))</span> <span class="nx">found</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;	<span class="p">}</span> <span class="k">else</span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">nodes</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];){</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">hasOthers</span> <span class="o">||</span> <span class="o">!</span><span class="nx">local</span><span class="p">.</span><span class="nx">uniques</span><span class="p">[</span><span class="nx">local</span><span class="p">.</span><span class="nx">getUIDHTML</span><span class="p">(</span><span class="nx">node</span><span class="p">)])</span> <span class="nx">found</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;	<span class="p">}</span>&#x000A;&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">hasOthers</span><span class="p">)</span> <span class="nx">local</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">found</span><span class="p">);</span>&#x000A;&#x000A;	<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;&#x000A;<span class="p">});</span></code>
    </figure>
    <section>
      <p>&lt;/query-selector-override></p>
    </section>
    <section>
      <p>&lt;tag-override></p>
    </section>
    <figure>
      <ol>
        <li>739</li>
        <li>740</li>
        <li>741</li>
        <li>742</li>
        <li>743</li>
        <li>744</li>
        <li>745</li>
        <li>746</li>
        <li>747</li>
        <li>748</li>
        <li>749</li>
        <li>750</li>
        <li>751</li>
        <li>752</li>
        <li>753</li>
        <li>754</li>
        <li>755</li>
      </ol>
      <code><span class="nx">local</span><span class="p">.</span><span class="nx">override</span><span class="p">(</span><span class="sr">/^[\w-]+$|^\*$/</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expression</span><span class="p">,</span> <span class="nx">found</span><span class="p">,</span> <span class="nx">first</span><span class="p">){</span> <span class="c1">// tag override</span>&#x000A;	<span class="kd">var</span> <span class="nx">tag</span> <span class="o">=</span> <span class="nx">expression</span><span class="p">;</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">tag</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">local</span><span class="p">.</span><span class="nx">brokenStarGEBTN</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;&#x000A;	<span class="kd">var</span> <span class="nx">nodes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">tag</span><span class="p">);</span>&#x000A;&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">first</span><span class="p">)</span> <span class="k">return</span> <span class="nx">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>&#x000A;	<span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">node</span><span class="p">,</span> <span class="nx">hasOthers</span> <span class="o">=</span> <span class="o">!!</span><span class="p">(</span><span class="nx">found</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>&#x000A;&#x000A;	<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">nodes</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];){</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">hasOthers</span> <span class="o">||</span> <span class="o">!</span><span class="nx">local</span><span class="p">.</span><span class="nx">uniques</span><span class="p">[</span><span class="nx">local</span><span class="p">.</span><span class="nx">getUID</span><span class="p">(</span><span class="nx">node</span><span class="p">)])</span> <span class="nx">found</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;	<span class="p">}</span>&#x000A;&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">hasOthers</span><span class="p">)</span> <span class="nx">local</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">found</span><span class="p">);</span>&#x000A;&#x000A;	<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;<span class="p">});</span></code>
    </figure>
    <section>
      <p>&lt;/tag-override></p>
    </section>
    <section>
      <p>&lt;class-override></p>
    </section>
    <figure>
      <ol>
        <li>761</li>
        <li>762</li>
        <li>763</li>
        <li>764</li>
        <li>765</li>
        <li>766</li>
        <li>767</li>
        <li>768</li>
        <li>769</li>
        <li>770</li>
        <li>771</li>
        <li>772</li>
        <li>773</li>
        <li>774</li>
        <li>775</li>
        <li>776</li>
        <li>777</li>
        <li>778</li>
        <li>779</li>
        <li>780</li>
        <li>781</li>
        <li>782</li>
        <li>783</li>
      </ol>
      <code><span class="nx">local</span><span class="p">.</span><span class="nx">override</span><span class="p">(</span><span class="sr">/^\.[\w-]+$/</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expression</span><span class="p">,</span> <span class="nx">found</span><span class="p">,</span> <span class="nx">first</span><span class="p">){</span> <span class="c1">// class override</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">local</span><span class="p">.</span><span class="nx">isXMLDocument</span> <span class="o">||</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">getElementsByClassName</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;&#x000A;	<span class="kd">var</span> <span class="nx">nodes</span><span class="p">,</span> <span class="nx">node</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">hasOthers</span> <span class="o">=</span> <span class="o">!!</span><span class="p">(</span><span class="nx">found</span> <span class="o">&amp;&amp;</span> <span class="nx">found</span><span class="p">.</span><span class="nx">length</span><span class="p">),</span> <span class="nx">className</span> <span class="o">=</span> <span class="nx">expression</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getElementsByClassName</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">local</span><span class="p">.</span><span class="nx">brokenGEBCN</span><span class="p">){</span>&#x000A;		<span class="nx">nodes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="nx">className</span><span class="p">);</span>&#x000A;		<span class="k">if</span> <span class="p">(</span><span class="nx">first</span><span class="p">)</span> <span class="k">return</span> <span class="nx">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>&#x000A;		<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">nodes</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];){</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">hasOthers</span> <span class="o">||</span> <span class="o">!</span><span class="nx">local</span><span class="p">.</span><span class="nx">uniques</span><span class="p">[</span><span class="nx">local</span><span class="p">.</span><span class="nx">getUIDHTML</span><span class="p">(</span><span class="nx">node</span><span class="p">)])</span> <span class="nx">found</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;		<span class="p">}</span>&#x000A;	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;		<span class="kd">var</span> <span class="nx">matchClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s1">&#39;(^|\\s)&#39;</span><span class="o">+</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">escapeRegExp</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="o">+</span><span class="s1">&#39;(\\s|$)&#39;</span><span class="p">);</span>&#x000A;		<span class="nx">nodes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">);</span>&#x000A;		<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">nodes</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];){</span>&#x000A;			<span class="nx">className</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">className</span><span class="p">;</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">className</span> <span class="o">||</span> <span class="o">!</span><span class="nx">matchClass</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">className</span><span class="p">))</span> <span class="k">continue</span><span class="p">;</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="nx">first</span><span class="p">)</span> <span class="k">return</span> <span class="nx">node</span><span class="p">;</span>&#x000A;			<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">hasOthers</span> <span class="o">||</span> <span class="o">!</span><span class="nx">local</span><span class="p">.</span><span class="nx">uniques</span><span class="p">[</span><span class="nx">local</span><span class="p">.</span><span class="nx">getUIDHTML</span><span class="p">(</span><span class="nx">node</span><span class="p">)])</span> <span class="nx">found</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;		<span class="p">}</span>&#x000A;	<span class="p">}</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">hasOthers</span><span class="p">)</span> <span class="nx">local</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">found</span><span class="p">);</span>&#x000A;	<span class="k">return</span> <span class="p">(</span><span class="nx">first</span><span class="p">)</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="kc">true</span><span class="p">;</span>&#x000A;<span class="p">});</span></code>
    </figure>
    <section>
      <p>&lt;/class-override></p>
    </section>
    <section>
      <p>&lt;id-override></p>
    </section>
    <figure>
      <ol>
        <li>789</li>
        <li>790</li>
        <li>791</li>
        <li>792</li>
        <li>793</li>
        <li>794</li>
        <li>795</li>
        <li>796</li>
        <li>797</li>
        <li>798</li>
        <li>799</li>
        <li>800</li>
      </ol>
      <code><span class="nx">local</span><span class="p">.</span><span class="nx">override</span><span class="p">(</span><span class="sr">/^#[\w-]+$/</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expression</span><span class="p">,</span> <span class="nx">found</span><span class="p">,</span> <span class="nx">first</span><span class="p">){</span> <span class="c1">// ID override</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">local</span><span class="p">.</span><span class="nx">isXMLDocument</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!=</span> <span class="mi">9</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;&#x000A;	<span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">expression</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nx">el</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">el</span><span class="p">)</span> <span class="k">return</span> <span class="nx">found</span><span class="p">;</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">local</span><span class="p">.</span><span class="nx">idGetsName</span> <span class="o">&amp;&amp;</span> <span class="nx">el</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">).</span><span class="nx">nodeValue</span> <span class="o">!=</span> <span class="nx">id</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">first</span><span class="p">)</span> <span class="k">return</span> <span class="nx">el</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>&#x000A;	<span class="kd">var</span> <span class="nx">hasOthers</span> <span class="o">=</span> <span class="o">!!</span><span class="p">(</span><span class="nx">found</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">hasOthers</span> <span class="o">||</span> <span class="o">!</span><span class="nx">local</span><span class="p">.</span><span class="nx">uniques</span><span class="p">[</span><span class="nx">local</span><span class="p">.</span><span class="nx">getUIDHTML</span><span class="p">(</span><span class="nx">el</span><span class="p">)])</span> <span class="nx">found</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">hasOthers</span><span class="p">)</span> <span class="nx">local</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">found</span><span class="p">);</span>&#x000A;	<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;<span class="p">});</span></code>
    </figure>
    <section>
      <p>&lt;/id-override></p>
    </section>
    <section>
      <p></overrides></p>
    </section>
    <figure>
      <ol>
        <li>806</li>
      </ol>
      <code><span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">document</span> <span class="o">!=</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="nx">local</span><span class="p">.</span><span class="nx">setDocument</span><span class="p">(</span><span class="nb">document</span><span class="p">);</span></code>
    </figure>
    <section>
      <p>Slick</p>
    </section>
    <figure>
      <ol>
        <li>810</li>
        <li>811</li>
        <li>812</li>
      </ol>
      <code><span class="kd">var</span> <span class="nx">Slick</span> <span class="o">=</span> <span class="nx">local</span><span class="p">.</span><span class="nx">Slick</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Slick</span> <span class="o">||</span> <span class="p">{});</span>&#x000A;&#x000A;<span class="nx">Slick</span><span class="p">.</span><span class="nx">version</span> <span class="o">=</span> <span class="s1">&#39;0.9dev&#39;</span><span class="p">;</span></code>
    </figure>
    <section>
      <p>Slick finder</p>
    </section>
    <figure>
      <ol>
        <li>816</li>
        <li>817</li>
        <li>818</li>
        <li>819</li>
        <li>820</li>
        <li>821</li>
        <li>822</li>
      </ol>
      <code><span class="nx">Slick</span><span class="p">.</span><span class="nx">search</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">expression</span><span class="p">,</span> <span class="nx">append</span><span class="p">){</span>&#x000A;	<span class="k">return</span> <span class="nx">local</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">expression</span><span class="p">,</span> <span class="nx">append</span><span class="p">);</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">Slick</span><span class="p">.</span><span class="nx">find</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">expression</span><span class="p">){</span>&#x000A;	<span class="k">return</span> <span class="nx">local</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">expression</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p>Slick containment checker</p>
    </section>
    <figure>
      <ol>
        <li>826</li>
        <li>827</li>
        <li>828</li>
        <li>829</li>
      </ol>
      <code><span class="nx">Slick</span><span class="p">.</span><span class="nx">contains</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">container</span><span class="p">,</span> <span class="nx">node</span><span class="p">){</span>&#x000A;	<span class="nx">local</span><span class="p">.</span><span class="nx">setDocument</span><span class="p">(</span><span class="nx">container</span><span class="p">);</span>&#x000A;	<span class="k">return</span> <span class="nx">local</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">container</span><span class="p">,</span> <span class="nx">node</span><span class="p">);</span>&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p>Slick attribute getter</p>
    </section>
    <figure>
      <ol>
        <li>833</li>
        <li>834</li>
        <li>835</li>
      </ol>
      <code><span class="nx">Slick</span><span class="p">.</span><span class="nx">getAttribute</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">name</span><span class="p">){</span>&#x000A;	<span class="k">return</span> <span class="nx">local</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p>Slick matcher</p>
    </section>
    <figure>
      <ol>
        <li>839</li>
        <li>840</li>
        <li>841</li>
        <li>842</li>
        <li>843</li>
        <li>844</li>
        <li>845</li>
      </ol>
      <code><span class="nx">Slick</span><span class="p">.</span><span class="nx">match</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">selector</span><span class="p">){</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">node</span> <span class="o">&amp;&amp;</span> <span class="nx">selector</span><span class="p">))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">selector</span> <span class="o">||</span> <span class="nx">selector</span> <span class="o">===</span> <span class="nx">node</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">selector</span> <span class="o">!=</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;	<span class="nx">local</span><span class="p">.</span><span class="nx">setDocument</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;	<span class="k">return</span> <span class="nx">local</span><span class="p">.</span><span class="nx">matchNode</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">selector</span><span class="p">);</span>&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p>Slick attribute accessor</p>
    </section>
    <figure>
      <ol>
        <li>849</li>
        <li>850</li>
        <li>851</li>
        <li>852</li>
        <li>853</li>
        <li>854</li>
        <li>855</li>
        <li>856</li>
      </ol>
      <code><span class="nx">Slick</span><span class="p">.</span><span class="nx">defineAttributeGetter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">fn</span><span class="p">){</span>&#x000A;	<span class="nx">local</span><span class="p">.</span><span class="nx">attributeGetters</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">;</span>&#x000A;	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">Slick</span><span class="p">.</span><span class="nx">lookupAttributeGetter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>&#x000A;	<span class="k">return</span> <span class="nx">local</span><span class="p">.</span><span class="nx">attributeGetters</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span>&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p>Slick pseudo accessor</p>
    </section>
    <figure>
      <ol>
        <li>860</li>
        <li>861</li>
        <li>862</li>
        <li>863</li>
        <li>864</li>
        <li>865</li>
        <li>866</li>
        <li>867</li>
        <li>868</li>
        <li>869</li>
        <li>870</li>
        <li>871</li>
        <li>872</li>
        <li>873</li>
      </ol>
      <code><span class="nx">Slick</span><span class="p">.</span><span class="nx">definePseudo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">fn</span><span class="p">){</span>&#x000A;	<span class="nx">local</span><span class="p">[</span><span class="s1">&#39;pseudo:&#39;</span> <span class="o">+</span> <span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">argument</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">argument</span><span class="p">);</span>&#x000A;	<span class="p">};</span>&#x000A;	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">Slick</span><span class="p">.</span><span class="nx">lookupPseudo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>&#x000A;	<span class="kd">var</span> <span class="nx">pseudo</span> <span class="o">=</span> <span class="nx">local</span><span class="p">[</span><span class="s1">&#39;pseudo:&#39;</span> <span class="o">+</span> <span class="nx">name</span><span class="p">];</span>&#x000A;	<span class="k">if</span> <span class="p">(</span><span class="nx">pseudo</span><span class="p">)</span> <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">argument</span><span class="p">){</span>&#x000A;		<span class="k">return</span> <span class="nx">pseudo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">argument</span><span class="p">);</span>&#x000A;	<span class="p">};</span>&#x000A;	<span class="k">return</span> <span class="kc">null</span><span class="p">;</span>&#x000A;<span class="p">};</span></code>
    </figure>
    <section>
      <p>Slick overrides accessor</p>
    </section>
    <figure>
      <ol>
        <li>877</li>
        <li>878</li>
        <li>879</li>
        <li>880</li>
        <li>881</li>
        <li>882</li>
        <li>883</li>
        <li>884</li>
        <li>885</li>
        <li>886</li>
        <li>887</li>
        <li>888</li>
        <li>889</li>
        <li>890</li>
      </ol>
      <code><span class="nx">Slick</span><span class="p">.</span><span class="nx">override</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">regexp</span><span class="p">,</span> <span class="nx">fn</span><span class="p">){</span>&#x000A;	<span class="nx">local</span><span class="p">.</span><span class="nx">override</span><span class="p">(</span><span class="nx">regexp</span><span class="p">,</span> <span class="nx">fn</span><span class="p">);</span>&#x000A;	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="nx">Slick</span><span class="p">.</span><span class="nx">isXML</span> <span class="o">=</span> <span class="nx">local</span><span class="p">.</span><span class="nx">isXML</span><span class="p">;</span>&#x000A;&#x000A;<span class="nx">Slick</span><span class="p">.</span><span class="nx">uidOf</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">){</span>&#x000A;	<span class="k">return</span> <span class="nx">local</span><span class="p">.</span><span class="nx">getUIDHTML</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>&#x000A;<span class="p">};</span>&#x000A;&#x000A;<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">Slick</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">Slick</span> <span class="o">=</span> <span class="nx">Slick</span><span class="p">;</span>&#x000A;&#x000A;<span class="p">}).</span><span class="nx">apply</span><span class="p">(</span><span class="cm">/*&lt;CommonJS&gt;*/</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">exports</span> <span class="o">!=</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="o">?</span> <span class="nx">exports</span> <span class="o">:</span> <span class="cm">/*&lt;/CommonJS&gt;*/</span><span class="k">this</span><span class="p">);</span></code>
    </figure>
  </body>
</html>
